# けっくるてぽこ - 物流サポートエージェント 🚚🤖

AIを活用した配送ルート最適化システム

![アプリロゴ](logo.png)

## 📖 プロジェクト概要

「けっくるてぽこ」は、Google Maps APIとGemini AIを組み合わせた物流業界向けの配送ルート最適化アプリケーションです。複数の配送先と車両を管理し、時間制約や労働条件を考慮した最適なルートプランを自動生成します。

### 🎯 開発背景・目的

- **開発期間**: 2025年5月末〜6月初旬（約1週間の集中開発）
- **開発手法**: AI（Claude & Gemini）との協働開発
- **技術選択**: 当初Pythonデスクトップアプリ → Streamlit Webアプリに方針転換
- **将来展望**: OR-Tools等の最適化ライブラリとAIの組み合わせへの発展を想定

## ✨ 主な機能

### 🚛 車両管理機能
- 車両マスタの登録・編集（車両ID、車種、積載重量・容量、所属営業所）
- 車両ステータス管理（稼働中/待機中/整備中）
- 投入車両の選択と時間制約による必要車両数の自動判定

### 📍 配送先管理機能
- 手動入力またはCSVファイルアップロード
- 始点・終着・経由地の設定
- 希望到着・出発時刻の指定
- 積み込み・荷下ろし重量・容量の管理

### 🎯 ルート最適化機能
- **4つの最適化モード**:
  - おまかせ最適化（推奨）
  - 最短距離優先
  - 時間指定厳守
  - カスタムプロンプト
- 労働条件の考慮（連続運転時間制限、1日拘束時間制限）
- フェリー特例対応（長距離輸送時の休息時間計算）

### 📊 結果表示・出力機能
- 車両別運行スケジュールの表示
- Googleマップルートリンク自動生成
- CSV形式でのスケジュール出力
- API使用量の月別管理

## 🛠️ 技術スタック

- **フロントエンド**: Streamlit
- **バックエンド**: Python
- **AI API**: Google Gemini 1.5 Flash
- **地図API**: Google Maps Distance Matrix API
- **データ処理**: pandas
- **デプロイ**: Streamlit Cloud対応

## 📁 プロジェクト構成

```
logistics-support-agent/
├── app.py              # メインアプリケーション
├── api_handler.py      # API管理モジュール
├── constants.py        # 設定・定数定義
├── requirements.txt    # 依存パッケージ
├── logo.png           # アプリケーションロゴ
└── README.md          # このファイル
```

## 🚀 セットアップ・実行方法

### 1. 環境構築

```bash
# リポジトリのクローン
git clone https://github.com/yourusername/logistics-support-agent.git
cd logistics-support-agent

# 依存パッケージのインストール
pip install -r requirements.txt
```

### 2. APIキーの設定

以下のAPIキーを取得してください：
- [Google Cloud Console](https://console.cloud.google.com/) から Maps API キー
- [Google AI Studio](https://aistudio.google.com/) から Gemini API キー

### 3. アプリケーションの起動

```bash
streamlit run app.py
```

ブラウザで `http://localhost:8501` にアクセスしてアプリケーションを使用できます。

## 💡 使用方法

1. **APIキー設定**: サイドバーでGemini APIキーとGoogle Maps APIキーを入力
2. **車両登録**: サイドバーで利用可能な車両を登録・管理
3. **車両選択**: メイン画面で投入する車両を選択
4. **配送先入力**: 手動入力またはCSVアップロードで配送先データを設定
5. **条件設定**: 最適化目標と労働条件を指定
6. **実行**: 「ルート提案を実行」ボタンでAI分析を開始
7. **結果確認**: 生成されたルートプランとGoogleマップリンクを確認

## 🔍 技術的特徴・工夫点

### AI活用の工夫
- **段階的プロンプト設計**: 業務要件を自然言語で表現し、複雑な制約条件をAIが理解しやすい形に構造化
- **実在データの制約**: 架空のフェリー航路等を生成しないよう、実在する交通インフラのみを使用するよう指示
- **複数車両対応**: 時間制約の分析により必要車両数を自動判定し、物理的に不可能なスケジュールを回避

### システム設計の工夫
- **エラーハンドリング**: API通信エラーや データ形式エラーに対する堅牢な処理
- **ユーザビリティ**: 1画面完結型のUI設計で直感的な操作を実現
- **拡張性**: OR-Tools等の最適化ライブラリとの将来的な統合を考慮した設計

## 🎯 開発プロセスと学び

### 開発手法
- **AI協働開発**: ClaudeとGeminiを活用したコード生成・デバッグ
- **段階的改善**: デスクトップアプリ → Webアプリへの技術選択変更
- **実用性重視**: 理論的最適化よりも実際の業務フローに合わせた機能設計

### 技術的な学び
- **AIの限界と可能性**: 完全自動化は困難だが、専門知識を活用した判断支援には高い効果
- **API統合**: 複数の外部APIを組み合わせたシステム構築経験
- **UI/UX設計**: エンドユーザーの業務フローを考慮したインターフェース設計

## 🔮 技術的な学びと今後の可能性

### このプロジェクトで得られた知見
- **AIの実用性と限界**: 完全自動化は困難だが、専門知識を要する判断支援には高い効果
- **API統合の実践**: 複数の外部サービスを組み合わせたシステム構築の経験
- **プロンプト設計**: 複雑な業務要件をAIが理解できる形に構造化する技術

### 将来的な発展の方向性（構想）
- OR-Tools等の数理最適化ライブラリとAIの組み合わせ
- より大規模なデータセットでの検証
- 実際の物流企業での実証実験

## 📊 デモ・説明動画（予定）

開発プロセスとアプリケーションの機能を紹介する動画を制作予定です。
- 開発背景と技術選択の経緯
- AI協働開発の実際のプロセス
- アプリケーションの実際の動作デモ
- 今後の展望と技術的な課題

## 🏆 プロジェクトの価値・アピールポイント

### 技術面
- **AI活用**: 生成AIを実用的なビジネスアプリケーションに応用
- **API統合**: 複数の外部サービスを組み合わせたシステム構築
- **問題解決**: 実際の業務課題に対する技術的なソリューション提案

### ビジネス面
- **実用性**: 物流業界の実際の課題に対応した機能設計
- **ユーザビリティ**: 専門知識がなくても使えるシンプルなインターフェース
- **スケーラビリティ**: 将来的な機能拡張を考慮した設計

## 📝 ライセンス・利用について

このプロジェクトは**学習目的・ポートフォリオ目的**で作成されています。

- 商用利用には追加の検討・改良が必要です
- コードの参考利用は自由ですが、APIキーの管理等にはご注意ください
- 実際の業務での使用は十分な検証とテストを行ってください

## 👤 作成者

プログラミング初心者がAI支援を活用して初めて作ったアプリです。

---

**Note**: このプロジェクトは学習目的・ポートフォリオ目的で作成されています。商用利用には追加の検討・改良が必要です。